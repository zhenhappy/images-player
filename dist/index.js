!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.ImagesPlayer=o():t.ImagesPlayer=o()}("undefined"!=typeof self?self:this,function(){return function(t){var o={};function e(n){if(o[n])return o[n].exports;var s=o[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){"use strict";var n=function(){function t(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(o,e,n){return e&&t(o.prototype,e),n&&t(o,n),o}}();var s=function(){function t(o,e,n){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t);try{if("string"==typeof o)this.el=document.querySelector(o);else{if(!(o instanceof HTMLElement))throw"目标元素不能为空";this.el=o}if(!(e.length>0))throw"图片数组不能为空";this.srcList=e,this.store={length:0},this.pl=this.el.parentNode,this.index=0,this.status=0,this.options=n,this.preLoad()}catch(t){console.log(t)}}return n(t,[{key:"preLoad",value:function(){var t=this;this.options&&"function"==typeof this.options.onLoadStart&&this.options.onLoadStart(),this.srcList.forEach(function(o,e){!function(o,e){var n=new Image;n.onload=function(){t.store.length++,t.store[e]=n,t.options&&"function"==typeof t.options.onLoadProgress&&t.options.onLoadProgress(100*t.store.length/t.srcList.length,o,e,!0,n),t.srcList.length===t.store.length&&t.options&&"function"==typeof t.options.onLoadStop&&t.options.onLoadStop(),0===e&&t.pl.replaceChild(n,t.el),t.options.auto&&t.play()},n.onerror=function(){t.store.length++,t.options&&"function"==typeof t.options.onLoadProgress&&t.options.onLoadProgress(100*t.store.length/t.srcList.length,o,e,!1,n),t.srcList.length===t.store.length&&t.options&&"function"==typeof t.options.onLoadStop&&t.options.onLoadStop(),t.options.auto&&t.play()},n.src=o}(o,e)})}},{key:"step",value:function(){var t=this;if(1===this.status&&this.index<this.store.length-2){var o=this.store[this.index],e=this.store[this.index+1];this.pl.replaceChild(e,o),this.options&&"function"==typeof this.options.onProgress&&this.options.onProgress(100*this.index/this.store.length,e,this.index+1,o,this.index),this.index++,this.timer=setTimeout(function(){t.step()},42)}else 0===this.status||(this.options&&"function"==typeof this.options.onProgress&&this.options.onProgress(100,this.store[this.index],this.index),this.stop(),this.options.loop&&this.play())}},{key:"play",value:function(){var t=this;this.timer||this.srcList.length!==this.store.length||(this.options&&"function"==typeof this.options.onStart&&this.options.onStart(),this.status=1,this.timer=setTimeout(function(){t.step()},100))}},{key:"pause",value:function(){this.status=0,clearTimeout(this.timer),this.timer=0,this.options&&"function"==typeof this.options.onPause&&this.options.onPause()}},{key:"stop",value:function(){this.status=0,clearTimeout(this.timer),this.timer=0,this.pl.replaceChild(this.store[0],this.store[this.index]),this.index=0,this.options&&"function"==typeof this.options.onStop&&this.options.onStop()}}]),t}();t.exports=s}])});